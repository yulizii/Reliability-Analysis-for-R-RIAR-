"0","# 定义 g 函数（在 MCS 外部）"
"0","g <- function(x) {"
"0","  return(x[1]^2 + x[2]^2 - 3)"
"0","}"
"0",""
"0",""
"0","# 测试代码"
"0","set.seed(123)  # 设置随机种子以确保可重复性"
"0","mean <- c(2, 1)"
"0","sd <- c(1, 1)"
"0","n_samples <- 10000"
"0",""
"0","# 生成样本并结合成一个矩阵 x"
"0","x <- cbind("
"0","  rnorm(n_samples, mean[1], sd[1]),  # x1"
"0","  rnorm(n_samples, mean[2], sd[2])   # x2"
"0",")"
"0",""
"0",""
"0","# 调用 MCS 函数，传入样本和 g 函数"
"0","Pf_result <- MCS(x, g)"
"0","print(Pf_result)"
"1","[1]"
"1"," 0.2222"
"1","
"
"0","proposal_mean <- c(0, 0)  # 提议分布的均值"
"0","proposal_sd <- c(2, 2)    # 提议分布的标准差"
"0",""
"0","# 计算失效概率"
"0","Pf <- importance_sampling(n_samples, mean, sd, proposal_mean, proposal_sd)"
"0","print(Pf)"
"1","[1]"
"1"," 2.476589e-12"
"1","
"
